# rsync_backup

## 概要
* rsyncを使って、プラグインノードのバックアップファイルを、VPSからローカルマシンに転送できるコマンドを作成します
* 同時に、ローカルマシンからプラグインノードへバックアップファイルを転送できるコマンドも作成します
* 各種暗号に対応。以下は、スクリプトで検出される可能性のあるSSH鍵のタイプのリストです

     * ssh-dss
     * ssh-rsa
     * ecdsa-sha2-nistp
     * ssh-ed25519
     * rsa-sha2-256
     * ssh-x25519
     * ssh-x448

  したがって、このスクリプトでは、DSA、RSA、ECDSA、Ed25519、RSA-PSS、x25519、x448の鍵タイプに対応しています

* 日本語と英語に対応
 　　　　  * `tranlations.csv`を作成し、日本語と英語に対応させました
     * 必要であれば、他の言語にも対応しますので、お知らせください

## 機能
1. CSVファイルから英語と日本語のメッセージを読み込み、選択された言語に応じてメッセージを表示します
2. プラグインノードのバックアップファイルを、ローカルに転送します
3. またローカルからプラグインノードへ、バックアップファイルを転送することもできます
4. rsyncはssh-keyにも対応しています

## rsyncについて
rsyncは、ファイル同期ツールです。主に、2つの異なる場所のファイル/ディレクトリを同期させるために使用されます。rsyncは、ローカルマシンとリモートマシン間でファイルを同期させることができ、ネットワーク経由でファイルを転送することができます。

rsyncの主な機能は、変更された部分だけを転送することができることです。つまり、同期元と同期先のファイルの差分を計算し、差分がある部分のみを転送することで、大量のデータを転送する場合に非常に効率的に動作します。

おそらくプラグインノードには、インストールされていると思われます。`rsync --version`で確認ができます。もしインストールされていない馬合は以下のコマンドを実行して、インストールしてください。
```
sudo apt install rsync
```

## スクリプトの実行


```
git clone https://github.com/11ppm/pli_rsync_backup
cd pli_rsync_backup
chmod +x rsync_backup.sh
```



```
./rsync_backup.sh
```

